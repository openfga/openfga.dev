---
title: Reporting Performance Issues
description: Information to gather when reporting OpenFGA performance issues
slug: /best-practices/reporting-performance-issues
sidebar_position: 6
---

import {
  DocumentationNotice,
  RelatedSection,
} from "@components/Docs";

# Reporting Performance Issues

<DocumentationNotice />

If you're experiencing performance issues with OpenFGA, gathering the right information upfront will help us diagnose and resolve the problem much faster. This guide outlines the key details we need to investigate performance-related issues effectively.

## Full Reproduction

The absolute best way to help us diagnose your performance issue is to provide everything needed to **fully reproduce the problem**:

1. **Authorization model** (`.fga` file)
2. **Relationship tuples** (export via CLI)
3. **Script or steps** that reproduce the performance problem

With these three items, we can recreate your exact scenario in our own environment, which dramatically speeds up diagnosis and resolution.

:::note
If you cannot share your real model and tuples due to data sensitivity, consider **creating a synthetic reproduction**. Build a simplified model and generate synthetic tuples that demonstrate the same performance characteristics. This approach still allows us to reproduce the issue without exposing sensitive data.
:::

If you can provide this information, please see the sections below for details on how to export and share it. If you cannot share this level of detail due to data sensitivity or other constraints, don't worry—the following sections detail alternative information that will still help us investigate your issue.

## Authorization Setup

### Authorization Model

Please provide your current authorization model (`.fga` file). This helps us understand the complexity of your relationships and potential performance implications.

### Relationship Tuples

The best-case scenario is if you can share an export of your relationship tuples. You can get this by running:

```bash
fga tuple read --output-format=csv --max-pages 0 > tuples.csv
```

**Alternative: Synthetic Data**

If you can't share your real tuples due to data sensitivity, consider creating a **synthetic dataset** that reproduces the same performance issue. Generate fake tuples with similar:
- Volume (same number of tuples)
- Cardinality patterns (similar relationship distributions)
- Structure (same types and relations)

This allows us to reproduce the problem without exposing sensitive information.

**Last Resort: Cardinality Information**

If you can't share tuples directly (real or synthetic), please provide:
- The **cardinality** (i.e., how many or how few objects are related to another object) for your most common object type/relation pairs
- Approximate counts are fine—we mainly need to understand the scale and distribution of your data

## OpenFGA Configuration

### Version Information

Which version of OpenFGA are you running? This is critical as performance characteristics can vary significantly between versions.

### Configuration Settings

Please share your configuration settings (you can omit any secrets). You can find more information on configuration in the [Configure OpenFGA documentation](../getting-started/setup-openfga/configure-openfga.mdx).

Key settings we're interested in include:
- Cache configuration
- Concurrency limits
- Database connection pool settings
- Any performance-related flags you've enabled

### Infrastructure Details

- **OpenFGA nodes**: How many OpenFGA nodes/pods are you running? What are the CPU and RAM specs for each?
- **Database**: Which database are you using (e.g., PostgreSQL, MySQL)? What are its specs (e.g., instance type, vCPU, RAM)?

## Load Testing Scenario

Understanding how you're testing helps us reproduce and diagnose the issue. Ideally, this would be part of your full reproduction package.

### Load Testing Script

If you're using a load-testing script, please share it. This allows us to reproduce your scenario exactly and is one of the three key components needed for full reproduction.

### Request Examples

If you don't have a script or cannot share your full reproduction, please provide example requests and responses for the calls that are slow:
- Check API calls
- Write API calls
- ListObjects API calls
- ListUsers API calls
- Other relevant API calls

### Performance Expectations

What are your target p95/p99 response times for these queries? Understanding your requirements helps us determine if there's a performance issue or if expectations need adjustment.

## Observability

If you cannot provide a full reproduction, observability data becomes especially valuable for diagnosing your issue.

Screenshots from your monitoring dashboards are incredibly helpful! We're most interested in the following metrics, grouped by request type:

### Key Metrics

- **Request latency**: p50, p95, p99 percentiles
- **Requests Per Second (RPS)**: Overall throughput
- **Database connections**: Active and idle connections
- **Cache hit ratio**: Effectiveness of caching
- **Goroutine count**: Concurrency patterns

### Traces

If you have a specific query that is consistently slow, a **trace for that request is the single most valuable piece of information you can provide**. Traces allow us to see exactly where time is being spent in the request lifecycle.

## How to Share This Information

When reporting a performance issue, please:

1. Create a GitHub issue in the [OpenFGA repository](https://github.com/openfga/openfga/issues)
2. Use the "Performance Issue" template if available
3. Include as many of the above details as possible
4. If sharing sensitive information, consider creating sanitized/anonymized versions of your data

:::tip
The best way to help us is to provide a **full reproduction** (model + tuples + script). If that's not possible, providing as much of the information above as you can will still help us diagnose and resolve your performance issue!
:::

## Related Sections

<RelatedSection
  description="Check the following sections for more on performance optimization and production setup."
  relatedLinks={[
    {
      title: 'Running OpenFGA in Production',
      description: 'Best practices for running OpenFGA in a production environment',
      link: '../best-practices/running-in-production',
      id: '../best-practices/running-in-production',
    },
    {
      title: 'Consistency and Performance Tuning',
      description: 'Learn about consistency options and performance tuning',
      link: '../interacting/consistency',
      id: '../interacting/consistency',
    },
    {
      title: 'Configure OpenFGA',
      description: 'Configuration options for OpenFGA server',
      link: '../getting-started/setup-openfga/configure-openfga',
      id: '../getting-started/setup-openfga/configure-openfga',
    }
  ]}
/>

