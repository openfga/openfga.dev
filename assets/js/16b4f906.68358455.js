"use strict";(self.webpackChunkopenfga_dev=self.webpackChunkopenfga_dev||[]).push([[6734],{82115:function(e,t,a){a.r(t),a.d(t,{assets:function(){return d},contentTitle:function(){return p},default:function(){return k},frontMatter:function(){return s},metadata:function(){return m},toc:function(){return h}});var n=a(87462),i=a(63366),o=(a(67294),a(3905)),r=a(80566),l=["components"],s={title:"OpenFGA Concepts",sidebar_position:2,slug:"/intro/openfga-concepts"},p="<ProductName format={ProductNameFormat.LongForm}/> Concepts",m={unversionedId:"content/intro/openfga-concepts",id:"content/intro/openfga-concepts",title:"OpenFGA Concepts",description:"The  service answers  checks by determining whether a relationship exists between an object and a user. Checks takes into consideration the authorization model of the system and the relationship tuples present in the system at that time in order to make a decision.",source:"@site/docs/content/intro/openfga-concepts.mdx",sourceDirName:"content/intro",slug:"/intro/openfga-concepts",permalink:"/openfga.dev/intro/openfga-concepts",draft:!1,editUrl:"https://github.com/openfga/openfga.dev/edit/main/docs/content/intro/openfga-concepts.mdx",tags:[],version:"current",sidebarPosition:2,frontMatter:{title:"OpenFGA Concepts",sidebar_position:2,slug:"/intro/openfga-concepts"},sidebar:"docs",previous:{title:"Setup the OpenFGA server",permalink:"/openfga.dev/intro/setup-openfga"},next:{title:"Define Your Authorization Model",permalink:"/openfga.dev/modeling"}},d={},h=[{value:"What is a type?",id:"what-is-a-type",level:2},{value:"What is a type definition?",id:"what-is-a-type-definition",level:2},{value:"What is an authorization model?",id:"what-is-an-authorization-model",level:2},{value:"What is a store?",id:"what-is-a-store",level:2},{value:"What is an object?",id:"what-is-an-object",level:2},{value:"What is a user?",id:"what-is-a-user",level:2},{value:"What is a relation?",id:"what-is-a-relation",level:2},{value:"What is a relation definition?",id:"what-is-a-relation-definition",level:2},{value:"What is a relationship tuple?",id:"what-is-a-relationship-tuple",level:2},{value:"What is a relationship?",id:"what-is-a-relationship",level:2},{value:"What are direct and implied relationships?",id:"what-are-direct-and-implied-relationships",level:2},{value:"What is a check request?",id:"what-is-a-check-request",level:2},{value:"What are contextual tuples?",id:"what-are-contextual-tuples",level:2},{value:"How do I represent &quot;everyone&quot;?",id:"how-do-i-represent-everyone",level:2},{value:"Related Sections",id:"related-sections",level:2}],u={toc:h};function k(e){var t=e.components,a=(0,i.Z)(e,l);return(0,o.kt)("wrapper",(0,n.Z)({},u,a,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"-concepts"},(0,o.kt)(r.rZ,{format:r.v7.LongForm,mdxType:"ProductName"})," Concepts"),(0,o.kt)(r.AH,{mdxType:"DocumentationNotice"}),(0,o.kt)("p",null,"The ",(0,o.kt)(r.rZ,{format:r.v7.ProductLink,mdxType:"ProductName"})," service answers ",(0,o.kt)(r.UV,{linkName:"authorization",section:"what-is-authorization",mdxType:"IntroductionSection"})," ",(0,o.kt)("a",{parentName:"p",href:"#what-is-a-check-request"},"checks")," by determining whether a ",(0,o.kt)("strong",{parentName:"p"},(0,o.kt)("a",{parentName:"strong",href:"#what-is-a-relation"},"relationship"))," exists between an ",(0,o.kt)("a",{parentName:"p",href:"#what-is-an-object"},"object")," and a ",(0,o.kt)("a",{parentName:"p",href:"#what-is-a-user"},"user"),". Checks takes into consideration the ",(0,o.kt)("strong",{parentName:"p"},(0,o.kt)("a",{parentName:"strong",href:"#what-is-an-authorization-model"},"authorization model"))," of the system and the ",(0,o.kt)("strong",{parentName:"p"},(0,o.kt)("a",{parentName:"strong",href:"#what-is-a-relationship-tuple"},"relationship tuples"))," present in the system at that time in order to make a decision."),(0,o.kt)("p",null,"In this guide you will learn about the most relevant FGA concepts, such as a type or an authorization model, and you will be able to explore them using the ",(0,o.kt)("a",{parentName:"p",href:"https://play.fga.dev/"},"FGA playground"),"."),(0,o.kt)(r.XQ,{mdxType:"Playground"}),(0,o.kt)("details",null,(0,o.kt)("summary",null,(0,o.kt)("h2",{id:"what-is-a-type"},"What is a type?"),(0,o.kt)("p",null,"A ",(0,o.kt)("strong",{parentName:"p"},"type")," is a string. It should define a class of objects with similar characteristics.")),(0,o.kt)("p",null,"Examples of types:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"workspace")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"repository")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"organization")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"document")))),(0,o.kt)("details",null,(0,o.kt)("summary",null,(0,o.kt)("h2",{id:"what-is-a-type-definition"},"What is a type definition?"),(0,o.kt)("p",null,"A ",(0,o.kt)("strong",{parentName:"p"},"type definition")," is a configuration that defines all possible relations a user or another object can have in relation to this type.")),(0,o.kt)("p",null,"Code snippet below is an example of a type definition:"),(0,o.kt)(r.lG,{configuration:{type:"document",relations:{viewer:{this:{}},commenter:{this:{}},editor:{this:{}},owner:{this:{}}}},mdxType:"AuthzModelSnippetViewer"})),(0,o.kt)("details",null,(0,o.kt)("summary",null,(0,o.kt)("h2",{id:"what-is-an-authorization-model"},"What is an authorization model?"),(0,o.kt)("p",null,"An ",(0,o.kt)("strong",{parentName:"p"},"authorization model")," is a combination of one or more type definitions. This is used to define the permission model of a system.")),(0,o.kt)("p",null,"Code snippet below is an example of an authorization model:"),(0,o.kt)(r.lG,{configuration:{type_definitions:[{type:"document",relations:{viewer:{this:{}},commenter:{this:{}},editor:{this:{}},owner:{this:{}}}},{type:"domain",relations:{member:{this:{}}}}]},mdxType:"AuthzModelSnippetViewer"}),(0,o.kt)("p",null,(0,o.kt)("em",{parentName:"p"},"Authorization model"),", together with ",(0,o.kt)("a",{parentName:"p",href:"#what-is-a-relationship-tuple"},"relationship tuples"),", allow determination of whether a ",(0,o.kt)("a",{parentName:"p",href:"#what-is-a-relationship"},"relationship")," exists between a ",(0,o.kt)("a",{parentName:"p",href:"#what-is-a-user"},"user")," and an ",(0,o.kt)("a",{parentName:"p",href:"#what-is-an-object"},"object"),"."),(0,o.kt)("p",null,"The ",(0,o.kt)(r.rZ,{format:r.v7.LongForm,mdxType:"ProductName"})," service has two different syntaxes to define the authorization model:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"A JSON syntax accepted by the ",(0,o.kt)(r.rZ,{format:r.v7.ShortForm,mdxType:"ProductName"})," API that follows closely the original syntax discussed in the ",(0,o.kt)("a",{parentName:"li",href:"https://research.google/pubs/pub48190/"},"Zanzibar Paper"),". See ",(0,o.kt)("a",{parentName:"li",href:"/openfga.dev/modeling/configuration-language#equivalent-zanzibar-concepts"},"Equivalent Zanzibar Concepts"),"."),(0,o.kt)("li",{parentName:"ul"},"A DSL that we believe is easier to use and is used in the Auth0 FGA Playground to help with modeling. This is translated to the API-supported syntax before being sent to the API.")),(0,o.kt)("p",null,"Learn more about the ",(0,o.kt)(r.DC,{link:"../modeling/configuration-language",name:"{ProductName} Configuration Language",mdxType:"UpdateProductNameInLinks"}),".")),(0,o.kt)("details",null,(0,o.kt)("summary",null,(0,o.kt)("h2",{id:"what-is-a-store"},"What is a store?"),(0,o.kt)("p",null,"A ",(0,o.kt)("strong",{parentName:"p"},"store")," is a ",(0,o.kt)(r.rZ,{format:r.v7.LongForm,mdxType:"ProductName"})," organization entity that owns an authorization model.")),(0,o.kt)("p",null,"A store contains all your data, including the ",(0,o.kt)("a",{parentName:"p",href:"#what-is-an-authorization-model"},"authorization model")," and ",(0,o.kt)("a",{parentName:"p",href:"#what-is-a-relationship-tuple"},"relationship tuples"),".")),(0,o.kt)("details",null,(0,o.kt)("summary",null,(0,o.kt)("h2",{id:"what-is-an-object"},"What is an object?"),(0,o.kt)("p",null,"An ",(0,o.kt)("strong",{parentName:"p"},"object")," represents an entity in the system. We can define how various users have a relationship to it through relationship tuples and the authorization model.")),(0,o.kt)("p",null,"An object is a combination of a ",(0,o.kt)("a",{parentName:"p",href:"#what-is-a-type"},"type")," and an identifier."),(0,o.kt)("p",null,"For example:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"workspace:fb83c013-3060-41f4-9590-d3233a67938f")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"repository:auth0/express-jwt")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"organization:org_ajUc9kJ")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"document:new-roadmap"))),(0,o.kt)("p",null,(0,o.kt)("a",{parentName:"p",href:"#what-is-a-user"},"User"),", ",(0,o.kt)("a",{parentName:"p",href:"#what-is-a-relation"},"relation")," and ",(0,o.kt)("em",{parentName:"p"},"object")," are the building blocks for ",(0,o.kt)("a",{parentName:"p",href:"#what-is-a-relationship-tuple"},"relationship tuples"),"."),(0,o.kt)("p",null,"For more information, please see ",(0,o.kt)("a",{parentName:"p",href:"/openfga.dev/modeling/basics/modeling-basics"},"Modeling Basics"),".")),(0,o.kt)("details",null,(0,o.kt)("summary",null,(0,o.kt)("h2",{id:"what-is-a-user"},"What is a user?"),(0,o.kt)("p",null,"A ",(0,o.kt)("strong",{parentName:"p"},"user")," is an entity in the system that can be related to an object.")),(0,o.kt)("p",null,"A ",(0,o.kt)("strong",{parentName:"p"},"user")," is"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"any identifier: e.g. ",(0,o.kt)("inlineCode",{parentName:"li"},"anne")," or ",(0,o.kt)("inlineCode",{parentName:"li"},"4179af14-f0c0-4930-88fd-5570c7bf6f59")),(0,o.kt)("li",{parentName:"ul"},"any object: e.g. ",(0,o.kt)("inlineCode",{parentName:"li"},"workspace:fb83c013-3060-41f4-9590-d3233a67938f"),", ",(0,o.kt)("inlineCode",{parentName:"li"},"repository:auth0/express-jwt")," or ",(0,o.kt)("inlineCode",{parentName:"li"},"organization:org_ajUc9kJ")),(0,o.kt)("li",{parentName:"ul"},"a group or a set of users (also called a ",(0,o.kt)("strong",{parentName:"li"},"userset"),"): e.g. ",(0,o.kt)("inlineCode",{parentName:"li"},"organization:org_ajUc9kJ#members"),", which represents the set of users related to the object ",(0,o.kt)("inlineCode",{parentName:"li"},"organization:org_ajUc9kJ")," as ",(0,o.kt)("inlineCode",{parentName:"li"},"member")),(0,o.kt)("li",{parentName:"ul"},"everyone, using the special syntax: ",(0,o.kt)("inlineCode",{parentName:"li"},"*"))),(0,o.kt)("p",null,(0,o.kt)("em",{parentName:"p"},"User"),", ",(0,o.kt)("a",{parentName:"p",href:"#what-is-a-relation"},"relation")," and ",(0,o.kt)("a",{parentName:"p",href:"#what-is-an-object"},"object")," are the building blocks for ",(0,o.kt)("a",{parentName:"p",href:"#what-is-a-relationship-tuple"},"relationship tuples"),"."),(0,o.kt)("p",null,"For more information, please see ",(0,o.kt)("a",{parentName:"p",href:"/openfga.dev/modeling/basics/modeling-basics"},"Modeling Basics"),".")),(0,o.kt)("details",null,(0,o.kt)("summary",null,(0,o.kt)("h2",{id:"what-is-a-relation"},"What is a relation?"),(0,o.kt)("p",null,"A ",(0,o.kt)("strong",{parentName:"p"},"relation")," is a string defined in the type definition of an authorization model that defines the possibility of a relationship between objects of this type and other users in the system.")),(0,o.kt)("p",null,"Examples of relation:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"User can be a ",(0,o.kt)("inlineCode",{parentName:"li"},"reader")," of a document"),(0,o.kt)("li",{parentName:"ul"},"Team can ",(0,o.kt)("inlineCode",{parentName:"li"},"administer")," a repo"),(0,o.kt)("li",{parentName:"ul"},"User can be a ",(0,o.kt)("inlineCode",{parentName:"li"},"member")," of a team"))),(0,o.kt)("details",null,(0,o.kt)("summary",null,(0,o.kt)("h2",{id:"what-is-a-relation-definition"},"What is a relation definition?"),(0,o.kt)("p",null,"A ",(0,o.kt)("strong",{parentName:"p"},"relation definition")," lists the conditions or requirements under which this relationship would be possible.")),(0,o.kt)("p",null,"For example:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"editor")," describing a possible relationship between a user and an object in the ",(0,o.kt)("inlineCode",{parentName:"li"},"document")," type allows the following:",(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"user identifier to object relationship"),": the user id ",(0,o.kt)("inlineCode",{parentName:"li"},"anne")," is related to the object ",(0,o.kt)("inlineCode",{parentName:"li"},"document:roadmap")," as ",(0,o.kt)("inlineCode",{parentName:"li"},"editor")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"object to object relationship"),": the object ",(0,o.kt)("inlineCode",{parentName:"li"},"application:ifft")," is related to the object ",(0,o.kt)("inlineCode",{parentName:"li"},"document:roadmap")," as ",(0,o.kt)("inlineCode",{parentName:"li"},"editor")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"userset to object relationship"),": the userset ",(0,o.kt)("inlineCode",{parentName:"li"},"organization:auth0.com#member")," is related to ",(0,o.kt)("inlineCode",{parentName:"li"},"document:roadmap")," as ",(0,o.kt)("inlineCode",{parentName:"li"},"editor"),(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},"indicating that the set of users who are related to the object ",(0,o.kt)("inlineCode",{parentName:"li"},"organization:auth0.com")," as ",(0,o.kt)("inlineCode",{parentName:"li"},"member")," are related to the object ",(0,o.kt)("inlineCode",{parentName:"li"},"document:roadmap")," as ",(0,o.kt)("inlineCode",{parentName:"li"},"editor"),"s"),(0,o.kt)("li",{parentName:"ul"},"this allows for potential solutions to use-cases like sharing a document internally with all members of a company or a team"))),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"everyone to object relationship"),": everyone (",(0,o.kt)("inlineCode",{parentName:"li"},"*"),") is related to ",(0,o.kt)("inlineCode",{parentName:"li"},"document:roadmap")," as ",(0,o.kt)("inlineCode",{parentName:"li"},"editor"),(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},"this is how one could model publicly editable documents")))))),(0,o.kt)("p",null,"These would be defined in the ",(0,o.kt)("a",{parentName:"p",href:"#what-is-an-authorization-model"},"authorization model")," as such:"),(0,o.kt)(r.lG,{configuration:{type_definitions:[{type:"document",relations:{viewer:{this:{}},commenter:{this:{}},editor:{this:{}},owner:{this:{}}}}]},mdxType:"AuthzModelSnippetViewer"}),(0,o.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},"In the configuration of the document type, we have four relations: ",(0,o.kt)("inlineCode",{parentName:"p"},"viewer"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"commenter"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"editor")," and ",(0,o.kt)("inlineCode",{parentName:"p"},"owner"),"."))),(0,o.kt)("p",null,(0,o.kt)("a",{parentName:"p",href:"#what-is-a-user"},"User"),", ",(0,o.kt)("em",{parentName:"p"},"relation")," and ",(0,o.kt)("a",{parentName:"p",href:"#what-is-an-object"},"object")," are the building blocks for ",(0,o.kt)("a",{parentName:"p",href:"#what-is-a-relationship-tuple"},"relationship tuples"),"."),(0,o.kt)("p",null,"For more information, please see ",(0,o.kt)("a",{parentName:"p",href:"/openfga.dev/modeling/basics/modeling-basics"},"Modeling Basics"),".")),(0,o.kt)("details",null,(0,o.kt)("summary",null,(0,o.kt)("h2",{id:"what-is-a-relationship-tuple"},"What is a relationship tuple?"),(0,o.kt)("p",null,"A ",(0,o.kt)("strong",{parentName:"p"},"relationship tuple")," is a tuple consisting of a user, relation and object stored in ",(0,o.kt)(r.rZ,{format:r.v7.ShortForm,mdxType:"ProductName"})," .")),(0,o.kt)("p",null,"A ",(0,o.kt)("strong",{parentName:"p"},"relationship tuple")," consists of a:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},(0,o.kt)("a",{parentName:"strong",href:"#what-is-a-user"},"user")),", e.g. ",(0,o.kt)("inlineCode",{parentName:"li"},"anne"),", ",(0,o.kt)("inlineCode",{parentName:"li"},"3f7768e0-4fa7-4e93-8417-4da68ce1846c"),", ",(0,o.kt)("inlineCode",{parentName:"li"},"workspace:auth0")," or ",(0,o.kt)("inlineCode",{parentName:"li"},"folder:planning#editor")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},(0,o.kt)("a",{parentName:"strong",href:"#what-is-a-relation"},"relation")),", e.g. ",(0,o.kt)("inlineCode",{parentName:"li"},"editor"),", ",(0,o.kt)("inlineCode",{parentName:"li"},"member")," or ",(0,o.kt)("inlineCode",{parentName:"li"},"parent_workspace")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},(0,o.kt)("a",{parentName:"strong",href:"#what-is-an-object"},"object")),", e.g ",(0,o.kt)("inlineCode",{parentName:"li"},"repo:auth0/express_jwt"),", ",(0,o.kt)("inlineCode",{parentName:"li"},"domain:auth0.com")," or ",(0,o.kt)("inlineCode",{parentName:"li"},"channel:marketing"))),(0,o.kt)("p",null,"An ",(0,o.kt)("a",{parentName:"p",href:"#what-is-an-authorization-model"},"authorization model"),", together with ",(0,o.kt)("em",{parentName:"p"},"relationship tuples"),", allow the determination of whether a ",(0,o.kt)("a",{parentName:"p",href:"#what-is-a-relationship"},"relationship")," exists between a ",(0,o.kt)("a",{parentName:"p",href:"#what-is-a-user"},"user")," and an ",(0,o.kt)("a",{parentName:"p",href:"#what-is-an-object"},"object"),"."),(0,o.kt)("p",null,"Throughout the documentation, you will encounter relationship tuples represented as:"),(0,o.kt)(r.Wz,{relationshipTuples:[{user:"anne",relation:"editor",object:"document:new-roadmap"}],mdxType:"RelationshipTuplesViewer"}),(0,o.kt)("p",null,"For more information, please see ",(0,o.kt)("a",{parentName:"p",href:"/openfga.dev/modeling/basics/modeling-basics"},"Modeling Basics"),".")),(0,o.kt)("details",null,(0,o.kt)("summary",null,(0,o.kt)("h2",{id:"what-is-a-relationship"},"What is a relationship?"),(0,o.kt)("p",null,"A ",(0,o.kt)("strong",{parentName:"p"},"relationship")," is the realization of a relation between a user and an object.")),(0,o.kt)("p",null,"An ",(0,o.kt)("a",{parentName:"p",href:"#what-is-an-authorization-model"},"authorization model"),", together with ",(0,o.kt)("a",{parentName:"p",href:"#what-is-a-relationship-tuple"},"relationship tuples"),", allow the determination of whether a ",(0,o.kt)("em",{parentName:"p"},"relationship")," exists between a user and an object. Relationships may be classified as ",(0,o.kt)("a",{parentName:"p",href:"#what-are-direct-and-implied-relationships"},(0,o.kt)("em",{parentName:"a"},"direct"))," or ",(0,o.kt)("a",{parentName:"p",href:"#what-are-direct-and-implied-relationships"},(0,o.kt)("em",{parentName:"a"},"implied")),".")),(0,o.kt)("details",null,(0,o.kt)("summary",null,(0,o.kt)("h2",{id:"what-are-direct-and-implied-relationships"},"What are direct and implied relationships?"),(0,o.kt)("p",null,"A ",(0,o.kt)("strong",{parentName:"p"},"direct relationship")," R between user X and object Y means the relationship tuple (user=X, relation=R, object=Y) exists, and the ",(0,o.kt)(r.rZ,{format:r.v7.ShortForm,mdxType:"ProductName"})," authorization model for that relation allows this direct relationship (by use of ",(0,o.kt)("inlineCode",{parentName:"p"},"self"),")."),(0,o.kt)("p",null,"An ",(0,o.kt)("strong",{parentName:"p"},"implied (or computed) relationship")," R exists between user X and object Y if user X is related to an object Z that is in a direct or implied relationship with object Y, and the ",(0,o.kt)(r.rZ,{format:r.v7.ShortForm,mdxType:"ProductName"})," authorization model allows it.")),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("inlineCode",{parentName:"p"},"anne")," has a ",(0,o.kt)("strong",{parentName:"p"},"direct relationship")," with ",(0,o.kt)("inlineCode",{parentName:"p"},"document:new-roadmap")," as ",(0,o.kt)("inlineCode",{parentName:"p"},"viewer")," if the ",(0,o.kt)("a",{parentName:"p",href:"#what-is-a-type-definition"},"type definition")," allows it (allows ",(0,o.kt)("a",{parentName:"p",href:"/openfga.dev/modeling/configuration-language#the-direct-relationship-keyword"},(0,o.kt)("inlineCode",{parentName:"a"},"self")),"), and one of the following ",(0,o.kt)("a",{parentName:"p",href:"#what-is-a-relationship-tuple"},"relationship tuples")," exist:"),(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},(0,o.kt)(r.Wz,{relationshipTuples:[{_description:"Anne is directly related to the document",user:"anne",relation:"viewer",object:"document:new-roadmap"}],mdxType:"RelationshipTuplesViewer"})),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)(r.Wz,{relationshipTuples:[{_description:"Everyone (`*`) is directly related to the document",user:"*",relation:"viewer",object:"document:new-roadmap"}],mdxType:"RelationshipTuplesViewer"})),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)(r.Wz,{relationshipTuples:[{_description:"The userset is directly related to this document",user:"team:product#member",relation:"viewer",object:"document:new-roadmap"},{_description:"AND Anne is a member of a userset (e.g. team:product#member)",user:"anne",relation:"member",object:"team:product#member"}],mdxType:"RelationshipTuplesViewer"})))),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("inlineCode",{parentName:"p"},"anne")," has an ",(0,o.kt)("strong",{parentName:"p"},"implied relationship")," with ",(0,o.kt)("inlineCode",{parentName:"p"},"document:new-roadmap")," as ",(0,o.kt)("inlineCode",{parentName:"p"},"viewer")," if the type definition allows it, and the presence of relationship tuples satisfying the relationship exist."),(0,o.kt)("p",{parentName:"li"},"For example, assuming the following type definition:"),(0,o.kt)(r.lG,{configuration:{type_definitions:[{type:"document",relations:{viewer:{union:{child:[{this:{}},{computedUserset:{relation:"editor"}}]}},editor:{this:{}}}}]},mdxType:"AuthzModelSnippetViewer"}),(0,o.kt)("p",{parentName:"li"},"And assuming the following relationship tuple exists in the system:"),(0,o.kt)(r.Wz,{relationshipTuples:[{user:"anne",relation:"editor",object:"document:new-roadmap"}],mdxType:"RelationshipTuplesViewer"}),(0,o.kt)("p",{parentName:"li"},"In this case, the ",(0,o.kt)("a",{parentName:"p",href:"#what-is-a-relationship"},"relationship")," between ",(0,o.kt)("inlineCode",{parentName:"p"},"anne")," and ",(0,o.kt)("inlineCode",{parentName:"p"},"document:new-roadmap")," as a ",(0,o.kt)("inlineCode",{parentName:"p"},"viewer")," is implied from the direct ",(0,o.kt)("inlineCode",{parentName:"p"},"editor")," relationship ",(0,o.kt)("inlineCode",{parentName:"p"},"anne")," has with that same document. Thus, the following request to ",(0,o.kt)("a",{parentName:"p",href:"#what-is-a-check-request"},"check")," whether a viewer relationship exists between ",(0,o.kt)("inlineCode",{parentName:"p"},"anne")," and ",(0,o.kt)("inlineCode",{parentName:"p"},"document:new-roadmap")," will return ",(0,o.kt)("inlineCode",{parentName:"p"},"true"),"."),(0,o.kt)(r.uT,{user:"anne",relation:"viewer",object:"document:new-roadmap",allowed:!0,mdxType:"CheckRequestViewer"})))),(0,o.kt)("details",null,(0,o.kt)("summary",null,(0,o.kt)("h2",{id:"what-is-a-check-request"},"What is a check request?"),(0,o.kt)("p",null,"A ",(0,o.kt)("strong",{parentName:"p"},"check request")," is a call to the ",(0,o.kt)(r.rZ,{format:r.v7.LongForm,mdxType:"ProductName"})," check endpoint that returns whether the user has a certain relationship with an object.")),(0,o.kt)("p",null,"This can be done using the ",(0,o.kt)("inlineCode",{parentName:"p"},"check")," methods in the ",(0,o.kt)(r.rZ,{format:r.v7.ShortForm,mdxType:"ProductName"})," SDKs (",(0,o.kt)("a",{parentName:"p",href:"https://www.npmjs.com/package/@openfga/sdk"},"JavaScript SDK"),"/",(0,o.kt)("a",{parentName:"p",href:"https://github.com/openfga/go-sdk"},"Go SDK"),"/",(0,o.kt)("a",{parentName:"p",href:"https://www.nuget.org/packages/OpenFGA.Sdk"},".NET SDK"),"), by manually calling the ",(0,o.kt)("a",{parentName:"p",href:"/api/service#/Tuples/Check"},"check endpoint")," using curl, or in your code."),(0,o.kt)("p",null,"The check endpoint responds with ",(0,o.kt)("inlineCode",{parentName:"p"},'{ "allowed": true }')," if a relationship exists, and with ",(0,o.kt)("inlineCode",{parentName:"p"},'{ "allowed": false }')," if the relationship does not."),(0,o.kt)("p",null,"For example, the following will check whether ",(0,o.kt)("inlineCode",{parentName:"p"},"anne")," has a ",(0,o.kt)("inlineCode",{parentName:"p"},"viewer")," relation to ",(0,o.kt)("inlineCode",{parentName:"p"},"document:new-roadmap"),":"),(0,o.kt)(r.uT,{user:"anne",relation:"viewer",object:"document:new-roadmap",allowed:!0,mdxType:"CheckRequestViewer"}),(0,o.kt)("p",null,"For more information, please see ",(0,o.kt)("a",{parentName:"p",href:"/openfga.dev/writing-data/advanced/check-read-expand"},"Comparison between check, read and expand")," and ",(0,o.kt)("a",{parentName:"p",href:"/api/service#/Tuples/Check"},"Check API Request Documentation"),".")),(0,o.kt)("details",null,(0,o.kt)("summary",null,(0,o.kt)("h2",{id:"what-are-contextual-tuples"},"What are contextual tuples?"),(0,o.kt)("p",null,"Contextual tuples are tuples that are sent alongside a check request, and only exist within the context of that particular request.")),(0,o.kt)("p",null,"Similar to ",(0,o.kt)("a",{parentName:"p",href:"#what-is-a-relationship-tuple"},"relationship tuples"),", contextual tuples are composed of a user, relation and object."),(0,o.kt)("p",null,"Unlike relationship tuples, they are not written to the system state. However, if contextual tuples are sent alongside a check request, in the context of this particular check request, they are treated as have been written to the system state."),(0,o.kt)("p",null,"For more information, please see ",(0,o.kt)("a",{parentName:"p",href:"/openfga.dev/modeling/basics/contextual-time-based-authorization"},"Contextual and Time-Based Authorization"),", ",(0,o.kt)("a",{parentName:"p",href:"/openfga.dev/modeling/basics/organization-context-authorization"},"Authorization Through Organization Context")," and ",(0,o.kt)("a",{parentName:"p",href:"/api/service#/Tuples/Check"},"Check API Request Documentation"),".")),(0,o.kt)("details",null,(0,o.kt)("summary",null,(0,o.kt)("h2",{id:"how-do-i-represent-everyone"},'How do I represent "everyone"?'),(0,o.kt)("p",null,"In ",(0,o.kt)(r.rZ,{format:r.v7.LongForm,mdxType:"ProductName"})," the special syntax ",(0,o.kt)("inlineCode",{parentName:"p"},"*")," means ",(0,o.kt)("strong",{parentName:"p"},"everyone")," when used as ",(0,o.kt)("strong",{parentName:"p"},"user")," in a relationship tuple.")),(0,o.kt)("p",null,"For example, in a case where you would like to indicate a certain document ",(0,o.kt)("inlineCode",{parentName:"p"},"document:new-roadmap")," is publicly writable (i.e. has everyone as an editor), you can add the following ",(0,o.kt)("a",{parentName:"p",href:"#what-is-a-relationship-tuple"},"relationship tuple"),":"),(0,o.kt)(r.Wz,{relationshipTuples:[{user:"*",relation:"editor",object:"document:new-roadmap"}],mdxType:"RelationshipTuplesViewer"}),(0,o.kt)("p",null,"Note that ",(0,o.kt)("inlineCode",{parentName:"p"},"*")," has no special meaning when used in other contexts. For example, ",(0,o.kt)("inlineCode",{parentName:"p"},"workspace:*")," as an ",(0,o.kt)("a",{parentName:"p",href:"#what-is-an-object"},"object")," means a single object with the type ",(0,o.kt)("inlineCode",{parentName:"p"},"workspace")," and identifier the string ",(0,o.kt)("inlineCode",{parentName:"p"},"*"),".\nFor more information, please see ",(0,o.kt)("a",{parentName:"p",href:"/openfga.dev/modeling/basics/public-access"},"Modeling Public Access")," and ",(0,o.kt)("a",{parentName:"p",href:"/openfga.dev/modeling/advanced/use-cases/gdrive"},"Advanced Modeling: Modeling Google Drive"),".")),(0,o.kt)("h2",{id:"related-sections"},"Related Sections"),(0,o.kt)(r.$q,{description:"Check the following sections for more on how object-to-object relationships can be used.",relatedLinks:[{title:"{ProductName} Concepts",description:"Learn about the {ProductName} Concepts",link:"/modeling/configuration-language",id:"../modeling/configuration-language"},{title:"Modeling Basics",description:"Get started with modeling your permission system in {ProductName}",link:"/modeling/basics/modeling-basics",id:"../modeling/basics/modeling-basics"}],mdxType:"RelatedSection"}))}k.isMDXComponent=!0}}]);