<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-content/best-practices/modeling-roles" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.1">
<title data-rh="true">Modeling roles | OpenFGA</title><meta data-rh="true" http-equiv="Content-Security-Policy" content="default-src &#x27;none&#x27;; base-uri &#x27;self&#x27;; block-all-mixed-content; worker-src &#x27;self&#x27;; child-src www.youtube-nocookie.com; prefetch-src &#x27;self&#x27;; connect-src &#x27;self&#x27; https://raw.githubusercontent.com https://s3.amazonaws.com https://cdn.cookielaw.org https://privacyportal.onetrust.com https://heapanalytics.com https://js.hs-scripts.com https://api.github.com https://js.hscollectedforms.net https://js.hs-analytics.net https://js.hs-banner.com https://forms.hscollectedforms.net ; font-src &#x27;self&#x27; https://fonts.googleapis.com https://fonts.gstatic.com; form-action &#x27;none&#x27;; frame-src www.youtube-nocookie.com; img-src &#x27;self&#x27; data: https://pbs.twimg.com https://docs.github.com https://heapanalytics.com https://forms.hsforms.com https://track.hubspot.com ; media-src &#x27;self&#x27;; object-src &#x27;none&#x27;; script-src &#x27;self&#x27; &#x27;unsafe-inline&#x27; https://cdn.cookielaw.org https://geolocation.onetrust.com https://cdn.heapanalytics.com https://js.hs-scripts.com https://api.github.com https://js.hscollectedforms.net https://js.hs-analytics.net https://js.hs-banner.com; style-src &#x27;unsafe-inline&#x27; &#x27;self&#x27; https://fonts.googleapis.com;"><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://openfga.dev/pr-preview/pr-1126/docs/best-practices/modeling-roles"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="keywords" content="OpenFGA, open source, fine-grained-authorization, fine grained authorization, Zanzibar"><meta data-rh="true" property="og:image" content="https://openfga.dev/img/og-rich-embed.png"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Modeling roles | OpenFGA"><meta data-rh="true" name="description" content="Various ways of modeling static and dynamic roles in FGA - both coarse and fine-grained."><meta data-rh="true" property="og:description" content="Various ways of modeling static and dynamic roles in FGA - both coarse and fine-grained."><link data-rh="true" rel="icon" href="/pr-preview/pr-1126/img/openfga-icon.svg"><link data-rh="true" rel="canonical" href="https://openfga.dev/pr-preview/pr-1126/docs/best-practices/modeling-roles"><link data-rh="true" rel="alternate" href="https://openfga.dev/pr-preview/pr-1126/docs/best-practices/modeling-roles" hreflang="en"><link data-rh="true" rel="alternate" href="https://openfga.dev/pr-preview/pr-1126/docs/best-practices/modeling-roles" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Best Practices","item":"https://openfga.dev/pr-preview/pr-1126/docs/best-practices"},{"@type":"ListItem","position":2,"name":"Modeling Roles","item":"https://openfga.dev/pr-preview/pr-1126/docs/best-practices/modeling-roles"}]}</script><link rel="alternate" type="application/rss+xml" href="/pr-preview/pr-1126/blog/rss.xml" title="OpenFGA RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/pr-preview/pr-1126/blog/atom.xml" title="OpenFGA Atom Feed">








<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@500;600&display=swap">
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap"><link rel="stylesheet" href="/pr-preview/pr-1126/assets/css/styles.8fa7eeda.css">
<script src="/pr-preview/pr-1126/assets/js/runtime~main.1421c499.js" defer="defer"></script>
<script src="/pr-preview/pr-1126/assets/js/main.c3dd2f3a.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>document.documentElement.setAttribute("data-theme","dark"),document.documentElement.setAttribute("data-theme-choice","dark"),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div class="CustomizedRoot"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" target="_self" href="/pr-preview/pr-1126/"><div class="navbar__logo"><img src="/pr-preview/pr-1126/img/openfga_logo.svg" alt="OpenFGA" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/pr-preview/pr-1126/img/openfga_logo.svg" alt="OpenFGA" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/pr-preview/pr-1126/">Home</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/pr-preview/pr-1126/docs/fga">Docs</a><a class="navbar__item navbar__link" href="/pr-preview/pr-1126/api/service">API</a><a class="navbar__item navbar__link" href="/pr-preview/pr-1126/blog">Blog</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://github.com/openfga/openfga" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-social header-github-link" aria-label="OpenFGA on GitHub">GitHub</a><a href="https://twitter.com/OpenFGA" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-social header-twitter-link" aria-label="OpenFGA on Twitter">Twitter</a><a href="https://openfga.dev/community" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-social header-slack-link" aria-label="OpenFGA on Slack">CNCF Slack</a><div class="navbarSearchContainer_Bca1"><div class="navbar__search searchBarContainer_NW3z" dir="ltr"><input placeholder="Search" aria-label="Search" class="navbar__search-input searchInput_YFbd" value=""><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/pr-preview/pr-1126/docs/fga"><span title="What is OpenFGA" class="linkLabel_WmDU">What is OpenFGA</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/pr-preview/pr-1126/docs/authorization-concepts"><span title="Authorization Concepts" class="linkLabel_WmDU">Authorization Concepts</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/pr-preview/pr-1126/docs/concepts"><span title="OpenFGA Concepts" class="linkLabel_WmDU">OpenFGA Concepts</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/pr-preview/pr-1126/docs/configuration-language"><span title="Configuration Language" class="linkLabel_WmDU">Configuration Language</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/pr-preview/pr-1126/docs/community"><span title="Community" class="linkLabel_WmDU">Community</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/pr-preview/pr-1126/docs/getting-started"><span title="Getting Started" class="categoryLinkLabel_W154">Getting Started</span></a><button aria-label="Collapse sidebar category &#x27;Getting Started&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/pr-preview/pr-1126/docs/getting-started/setup-openfga/overview"><span title="Setup OpenFGA" class="categoryLinkLabel_W154">Setup OpenFGA</span></a><button aria-label="Expand sidebar category &#x27;Setup OpenFGA&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pr-preview/pr-1126/docs/getting-started/install-sdk"><span title="Install SDK Client" class="linkLabel_WmDU">Install SDK Client</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pr-preview/pr-1126/docs/getting-started/create-store"><span title="Create a Store" class="linkLabel_WmDU">Create a Store</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pr-preview/pr-1126/docs/getting-started/setup-sdk-client"><span title="Setup SDK Client for Store" class="linkLabel_WmDU">Setup SDK Client for Store</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pr-preview/pr-1126/docs/getting-started/configure-model"><span title="Configure Authorization Model" class="linkLabel_WmDU">Configure Authorization Model</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pr-preview/pr-1126/docs/getting-started/update-tuples"><span title="Update Relationship Tuples" class="linkLabel_WmDU">Update Relationship Tuples</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pr-preview/pr-1126/docs/getting-started/perform-check"><span title="Perform a Check" class="linkLabel_WmDU">Perform a Check</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pr-preview/pr-1126/docs/getting-started/perform-list-objects"><span title="Perform a List Objects Request" class="linkLabel_WmDU">Perform a List Objects Request</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pr-preview/pr-1126/docs/getting-started/perform-list-users"><span title="Perform a List Users Request" class="linkLabel_WmDU">Perform a List Users Request</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pr-preview/pr-1126/docs/getting-started/cli"><span title="Use the FGA CLI" class="linkLabel_WmDU">Use the FGA CLI</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pr-preview/pr-1126/docs/getting-started/framework"><span title="Integrate Within a Framework" class="linkLabel_WmDU">Integrate Within a Framework</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pr-preview/pr-1126/docs/getting-started/immutable-models"><span title="Immutable Authorization Models" class="linkLabel_WmDU">Immutable Authorization Models</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pr-preview/pr-1126/docs/getting-started/tuples-api-best-practices"><span title="Implementation Best Practices" class="linkLabel_WmDU">Implementation Best Practices</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pr-preview/pr-1126/docs/getting-started/configure-telemetry"><span title="Configure SDK Client Telemetry" class="linkLabel_WmDU">Configure SDK Client Telemetry</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/pr-preview/pr-1126/docs/modeling"><span title="Modeling Guides" class="categoryLinkLabel_W154">Modeling Guides</span></a><button aria-label="Expand sidebar category &#x27;Modeling Guides&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/pr-preview/pr-1126/docs/interacting"><span title="Interacting with the API" class="categoryLinkLabel_W154">Interacting with the API</span></a><button aria-label="Expand sidebar category &#x27;Interacting with the API&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--active" href="/pr-preview/pr-1126/docs/best-practices"><span title="Best Practices" class="categoryLinkLabel_W154">Best Practices</span></a><button aria-label="Collapse sidebar category &#x27;Best Practices&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pr-preview/pr-1126/docs/best-practices/adoption-patterns"><span title="Adoption Patterns" class="linkLabel_WmDU">Adoption Patterns</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pr-preview/pr-1126/docs/best-practices/modeling"><span title="Modeling Best Practices" class="linkLabel_WmDU">Modeling Best Practices</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/pr-preview/pr-1126/docs/best-practices/modeling-roles"><span title="Modeling Roles" class="linkLabel_WmDU">Modeling Roles</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pr-preview/pr-1126/docs/best-practices/source-of-truth"><span title="Source of Truth" class="linkLabel_WmDU">Source of Truth</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pr-preview/pr-1126/docs/best-practices/running-in-production"><span title="Running OpenFGA in Production" class="linkLabel_WmDU">Running OpenFGA in Production</span></a></li></ul></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/pr-preview/pr-1126/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/pr-preview/pr-1126/docs/best-practices"><span>Best Practices</span></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Modeling Roles</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Modeling Roles</h1></header>
<p>Roles are a common way to group users and assign permissions to those groups. They can be used to simplify permission management, especially in larger systems where many users have similar access needs.</p>
<p>In this guide, we&#x27;ll explore common approaches to modeling roles with <!-- -->OpenFGA<!-- -->.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="when-to-use-each-approach">When to Use Each Approach<a href="#when-to-use-each-approach" class="hash-link" aria-label="Direct link to When to Use Each Approach" title="Direct link to When to Use Each Approach" translate="no">​</a></h2>
<p>Before diving into implementation details, here&#x27;s a quick guide to help you choose the right approach:</p>
<table><thead><tr><th>Approach</th><th>Best For</th><th>Complexity</th><th>Flexibility</th><th>Example</th></tr></thead><tbody><tr><td><strong>Relations as Roles</strong></td><td>Static, predefined roles</td><td>Low</td><td>Low</td><td>In all instances, company admins can view project information.</td></tr><tr><td><strong>Simple User-Defined Roles</strong></td><td>User-defined roles at org level</td><td>Medium</td><td>Medium</td><td>Company Acme creates an &quot;Auditor&quot; role that is configured to view project information for all projects.</td></tr><tr><td><strong>Role Assignments</strong></td><td>Instance-specific role assignments</td><td>High</td><td>High</td><td>In Company Acme, Anne can be a custom Auditor role for Projects 1 and 5, but Beth can be an Auditor on Project 3.</td></tr></tbody></table>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="approach-1-relations-as-roles">Approach 1: Relations as Roles<a href="#approach-1-relations-as-roles" class="hash-link" aria-label="Direct link to Approach 1: Relations as Roles" title="Direct link to Approach 1: Relations as Roles" translate="no">​</a></h2>
<p>The simplest way to implement roles is to use directly assignable relations. They work well for roles that always exist and can be defined at development-time. Adding relations is straightforward, and you do not need to add roles very frequently. If roles are static, this is always the preferred approach.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="example-organization-admin-role">Example: Organization Admin Role<a href="#example-organization-admin-role" class="hash-link" aria-label="Direct link to Example: Organization Admin Role" title="Direct link to Example: Organization Admin Role" translate="no">​</a></h3>
<p>In the model below, we define an <code>admin</code> role at the organization level. Admins can edit billing details and create projects.</p>
<div class="language-dsl.openfga codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-dsl.openfga codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">model</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">schema</span><span class="token plain"> 1.1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">type</span><span class="token plain"> </span><span class="token type">user</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">type</span><span class="token plain"> </span><span class="token type">organization</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">relations</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">define</span><span class="token plain"> </span><span class="token relation">admin</span><span class="token plain">: </span><span class="token directly-assignable">[user]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">define</span><span class="token plain"> </span><span class="token relation">can_create_project</span><span class="token plain">: admin</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">define</span><span class="token plain"> </span><span class="token relation">can_edit_billing_details</span><span class="token plain">: admin</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="adding-users-to-roles">Adding Users to Roles<a href="#adding-users-to-roles" class="hash-link" aria-label="Direct link to Adding Users to Roles" title="Direct link to Adding Users to Roles" translate="no">​</a></h3>
<p>To add users to the admin role, create a tuple like:</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain"> </span><span class="token key atrule">user</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> user</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain">anne</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token key atrule">relation</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> admin</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token key atrule">object</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> organization</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain">acme</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="extending-with-additional-roles">Extending with Additional Roles<a href="#extending-with-additional-roles" class="hash-link" aria-label="Direct link to Extending with Additional Roles" title="Direct link to Extending with Additional Roles" translate="no">​</a></h3>
<p>If later you need to add a <code>project_admin</code> role with permissions to view/edit projects, the model evolves to:</p>
<div class="language-dsl.openfga codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-dsl.openfga codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">model</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">schema</span><span class="token plain"> 1.1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">type</span><span class="token plain"> </span><span class="token type">user</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">type</span><span class="token plain"> </span><span class="token type">organization</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">relations</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">define</span><span class="token plain"> </span><span class="token relation">admin</span><span class="token plain">: </span><span class="token directly-assignable">[user]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">define</span><span class="token plain"> </span><span class="token relation">project_admin</span><span class="token plain">: </span><span class="token directly-assignable">[user]</span><span class="token comment" style="color:rgb(98, 114, 164)">  # new role</span><span class="token comment" style="color:rgb(98, 114, 164)"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">    # existing permissions</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">define</span><span class="token plain"> </span><span class="token relation">can_edit_billing_details</span><span class="token plain">: admin </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">define</span><span class="token plain"> </span><span class="token relation">can_create_project</span><span class="token plain">: admin </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">or</span><span class="token plain"> project_admin</span><span class="token comment" style="color:rgb(98, 114, 164)"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">    # new permissions for project admins</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">define</span><span class="token plain"> </span><span class="token relation">can_edit_project</span><span class="token plain">: admin </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">or</span><span class="token plain"> project_admin</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">define</span><span class="token plain"> </span><span class="token relation">can_view_project</span><span class="token plain">: admin </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">or</span><span class="token plain"> project_admin</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="pros-and-cons">Pros and Cons<a href="#pros-and-cons" class="hash-link" aria-label="Direct link to Pros and Cons" title="Direct link to Pros and Cons" translate="no">​</a></h3>
<p><strong>✅ Advantages:</strong></p>
<ul>
<li>Simple to implement and understand</li>
<li>Fast evaluation performance</li>
<li>Clear authorization policies</li>
<li>No additional tuples needed when adding permissions</li>
<li>Role permissions are straightforward to change, regardless of scale</li>
</ul>
<p><strong>❌ Disadvantages:</strong></p>
<ul>
<li>Roles must be predefined in the model</li>
<li>Not suitable for user-defined roles</li>
</ul>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="approach-2-simple-user-defined-roles">Approach 2: Simple User-Defined Roles<a href="#approach-2-simple-user-defined-roles" class="hash-link" aria-label="Direct link to Approach 2: Simple User-Defined Roles" title="Direct link to Approach 2: Simple User-Defined Roles" translate="no">​</a></h2>
<p>Many applications require the flexibility for end-users to define their own custom roles, in addition to any pre-defined roles. This approach enables organizations to tailor permissions to their specific needs.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="example-custom-project-admin-role">Example: Custom Project Admin Role<a href="#example-custom-project-admin-role" class="hash-link" aria-label="Direct link to Example: Custom Project Admin Role" title="Direct link to Example: Custom Project Admin Role" translate="no">​</a></h3>
<p>With the following model, your application can support both static roles and user-defined roles:</p>
<div class="language-dsl.openfga codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-dsl.openfga codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">model</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">schema</span><span class="token plain"> 1.1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">type</span><span class="token plain"> </span><span class="token type">user</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">type</span><span class="token plain"> </span><span class="token type">role</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">relations</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">define</span><span class="token plain"> </span><span class="token relation">assignee</span><span class="token plain">: </span><span class="token directly-assignable">[user]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">type</span><span class="token plain"> </span><span class="token type">organization</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">relations</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">define</span><span class="token plain"> </span><span class="token relation">admin</span><span class="token plain">: </span><span class="token directly-assignable">[user]</span><span class="token comment" style="color:rgb(98, 114, 164)">  # static role</span><span class="token comment" style="color:rgb(98, 114, 164)"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">    # permissions can be assigned to custom roles or static roles</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">define</span><span class="token plain"> </span><span class="token relation">can_create_project</span><span class="token plain">: </span><span class="token directly-assignable">[role#assignee]</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">or</span><span class="token plain"> admin </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">define</span><span class="token plain"> </span><span class="token relation">can_edit_project</span><span class="token plain">: </span><span class="token directly-assignable">[role#assignee]</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">or</span><span class="token plain"> admin </span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="setting-up-custom-roles">Setting Up Custom Roles<a href="#setting-up-custom-roles" class="hash-link" aria-label="Direct link to Setting Up Custom Roles" title="Direct link to Setting Up Custom Roles" translate="no">​</a></h3>
<ol>
<li><strong>Define role permissions</strong> by creating tuples that grant the role-specific permissions:</li>
</ol>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain"> </span><span class="token key atrule">user</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> role</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain">acme</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">project</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">admin</span><span class="token comment" style="color:rgb(98, 114, 164)">#assignee</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token key atrule">relation</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> can_create_project</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token key atrule">object</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> organization</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain">acme</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain"> </span><span class="token key atrule">user</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> role</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain">acme</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">project</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">admin</span><span class="token comment" style="color:rgb(98, 114, 164)">#assignee</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token key atrule">relation</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> can_edit_project</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token key atrule">object</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> organization</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain">acme</span><br></span></code></pre></div></div>
<ol start="2">
<li><strong>Assign users to the role</strong>:</li>
</ol>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain"> </span><span class="token key atrule">user</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> user</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain">anne</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token key atrule">relation</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> assignee</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token key atrule">object</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> role</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain">acme</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">project</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">admin</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="adding-new-permissions">Adding New Permissions<a href="#adding-new-permissions" class="hash-link" aria-label="Direct link to Adding New Permissions" title="Direct link to Adding New Permissions" translate="no">​</a></h3>
<p>When you add new permissions to your model, existing roles don&#x27;t automatically receive them:</p>
<div class="language-dsl.openfga codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-dsl.openfga codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">model</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">schema</span><span class="token plain"> 1.1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">type</span><span class="token plain"> </span><span class="token type">user</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">type</span><span class="token plain"> </span><span class="token type">role</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">relations</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">define</span><span class="token plain"> </span><span class="token relation">assignee</span><span class="token plain">: </span><span class="token directly-assignable">[user]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">type</span><span class="token plain"> </span><span class="token type">organization</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">relations</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">define</span><span class="token plain"> </span><span class="token relation">admin</span><span class="token plain">: </span><span class="token directly-assignable">[user]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">define</span><span class="token plain"> </span><span class="token relation">can_create_project</span><span class="token plain">: </span><span class="token directly-assignable">[role#assignee]</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">or</span><span class="token plain"> admin </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">define</span><span class="token plain"> </span><span class="token relation">can_edit_project</span><span class="token plain">: </span><span class="token directly-assignable">[role#assignee]</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">or</span><span class="token plain"> admin </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">define</span><span class="token plain"> </span><span class="token relation">can_delete_project</span><span class="token plain">: </span><span class="token directly-assignable">[role#assignee]</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">or</span><span class="token plain"> admin</span><span class="token comment" style="color:rgb(98, 114, 164)">  # new permission</span><br></span></code></pre></div></div>
<p>To grant the new permission to existing roles, create additional tuples:</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain"> </span><span class="token key atrule">user</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> role</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain">acme</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">project</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">admin</span><span class="token comment" style="color:rgb(98, 114, 164)">#assignee</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token key atrule">relation</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> can_delete_project</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token key atrule">object</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> organization</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain">acme</span><br></span></code></pre></div></div>
<p>You do not need to add these tuples when adding the new permission. End-users will add the new permission to their custom roles when they find it appropriate.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="pros-and-cons-1">Pros and Cons<a href="#pros-and-cons-1" class="hash-link" aria-label="Direct link to Pros and Cons" title="Direct link to Pros and Cons" translate="no">​</a></h3>
<p><strong>✅ Advantages:</strong></p>
<ul>
<li>Supports user-defined roles</li>
<li>Flexible permission assignment</li>
<li>No model changes needed for new role instances</li>
</ul>
<p><strong>❌ Disadvantages:</strong></p>
<ul>
<li>More complex than static relations</li>
<li>Requires additional tuples for role-permission mapping</li>
</ul>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="approach-3-role-assignments">Approach 3: Role Assignments<a href="#approach-3-role-assignments" class="hash-link" aria-label="Direct link to Approach 3: Role Assignments" title="Direct link to Approach 3: Role Assignments" translate="no">​</a></h2>
<p>The previous approach works well when custom roles are global for the organization. However, if you need roles that can be attached to different object instances with different members for each instance, you need role assignments.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="example-project-specific-admin-roles">Example: Project-Specific Admin Roles<a href="#example-project-specific-admin-roles" class="hash-link" aria-label="Direct link to Example: Project-Specific Admin Roles" title="Direct link to Example: Project-Specific Admin Roles" translate="no">​</a></h3>
<p>Let&#x27;s say you want a &quot;Project Admin&quot; role where each project can have different admins, but the role permissions remain consistent.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="step-1-define-the-role-and-its-permissions">Step 1: Define the Role and its Permissions<a href="#step-1-define-the-role-and-its-permissions" class="hash-link" aria-label="Direct link to Step 1: Define the Role and its Permissions" title="Direct link to Step 1: Define the Role and its Permissions" translate="no">​</a></h3>
<p>Define a <code>role</code> type where you list all the permissions that any role can have:</p>
<div class="language-dsl.openfga codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-dsl.openfga codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">model</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">schema</span><span class="token plain"> 1.1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">type</span><span class="token plain"> </span><span class="token type">role</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">relations</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">define</span><span class="token plain"> </span><span class="token relation">can_view_project</span><span class="token plain">: </span><span class="token directly-assignable">[user:*]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">define</span><span class="token plain"> </span><span class="token relation">can_edit_project</span><span class="token plain">: </span><span class="token directly-assignable">[user:*]</span><br></span></code></pre></div></div>
<p>A &quot;Project Admin&quot; role can have <code>can_view_project</code> and <code>can_edit_project</code>:</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)"># Project Admin role has both the can_view_project and can_edit_project assigned</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain"> </span><span class="token key atrule">user</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> user</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain">*</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token key atrule">relation</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> can_view_project</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token key atrule">object</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> role</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain">project</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">admin</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain"> </span><span class="token key atrule">user</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> user</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain">*</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token key atrule">relation</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> can_edit_project</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token key atrule">object</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> role</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain">project</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">admin</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="step-2-assign-users-to-a-role-on-an-entity">Step 2: Assign Users to a Role on an Entity<a href="#step-2-assign-users-to-a-role-on-an-entity" class="hash-link" aria-label="Direct link to Step 2: Assign Users to a Role on an Entity" title="Direct link to Step 2: Assign Users to a Role on an Entity" translate="no">​</a></h3>
<p>Add a <code>role_assignment</code> type to assign users to the role:</p>
<div class="language-dsl.openfga codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-dsl.openfga codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">type</span><span class="token plain"> </span><span class="token type">role_assignment</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">relations</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">define</span><span class="token plain"> </span><span class="token relation">assignee</span><span class="token plain">: </span><span class="token directly-assignable">[user]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">define</span><span class="token plain"> </span><span class="token relation">role</span><span class="token plain">: </span><span class="token directly-assignable">[role]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">define</span><span class="token plain"> </span><span class="token relation">can_view_project</span><span class="token plain">: assignee </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">and</span><span class="token plain"> can_view_project </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> role</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">define</span><span class="token plain"> </span><span class="token relation">can_edit_project</span><span class="token plain">: assignee </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">and</span><span class="token plain"> can_edit_project </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> role</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="step-3-connect-to-your-objects">Step 3: Connect to Your Objects<a href="#step-3-connect-to-your-objects" class="hash-link" aria-label="Direct link to Step 3: Connect to Your Objects" title="Direct link to Step 3: Connect to Your Objects" translate="no">​</a></h3>
<p>Define an <code>organization</code> type with an <code>admin</code> role. Then, define a <code>project</code> type that links to an <code>organization</code> and a <code>role_assignment</code>. Note that we are combining a static <code>admin</code> role with custom role assignments. We recommend to always use static roles when they are known in advance.</p>
<div class="language-dsl.openfga codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-dsl.openfga codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">type</span><span class="token plain"> </span><span class="token type">organization</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">relations</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">define</span><span class="token plain"> </span><span class="token relation">admin</span><span class="token plain">: </span><span class="token directly-assignable">[user]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">type</span><span class="token plain"> </span><span class="token type">project</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">relations</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">define</span><span class="token plain"> </span><span class="token relation">organization</span><span class="token plain">: </span><span class="token directly-assignable">[organization]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">define</span><span class="token plain"> </span><span class="token relation">role_assignment</span><span class="token plain">: </span><span class="token directly-assignable">[role_assignment]</span><span class="token comment" style="color:rgb(98, 114, 164)"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">    </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">    # combine role assignments and static roles</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">define</span><span class="token plain"> </span><span class="token relation">can_edit_project</span><span class="token plain">: can_edit_project </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> role_assignment </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">or</span><span class="token plain"> admin </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> organization</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">define</span><span class="token plain"> </span><span class="token relation">can_view_project</span><span class="token plain">: can_view_project </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> role_assignment </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">or</span><span class="token plain"> admin </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> organization</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="setting-up-role-assignments">Setting Up Role Assignments<a href="#setting-up-role-assignments" class="hash-link" aria-label="Direct link to Setting Up Role Assignments" title="Direct link to Setting Up Role Assignments" translate="no">​</a></h3>
<ol>
<li><strong>Create the role assignment instance</strong>:</li>
</ol>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain"> </span><span class="token key atrule">user</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> user</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain">anne</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token key atrule">relation</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> assignee</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token key atrule">object</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> role_assignment</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain">project</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">admin</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">openfga</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain"> </span><span class="token key atrule">user</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> role</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain">project</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">admin  </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token key atrule">relation</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> role</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token key atrule">object</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> role_assignment</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain">project</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">admin</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">openfga</span><br></span></code></pre></div></div>
<ol start="2">
<li><strong>Link the role assignment to the project</strong>:</li>
</ol>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain"> </span><span class="token key atrule">user</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> role_assignment</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain">project</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">admin</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">openfga</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token key atrule">relation</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> role_assignment</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token key atrule">object</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> project</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain">openfga</span><br></span></code></pre></div></div>
<ol start="3">
<li><strong>Link the project to an organization</strong>:</li>
</ol>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain"> </span><span class="token key atrule">user</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> organization</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain">acme</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token key atrule">relation</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> organization</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token key atrule">object</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> project</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain">openfga</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="pros-and-cons-2">Pros and Cons<a href="#pros-and-cons-2" class="hash-link" aria-label="Direct link to Pros and Cons" title="Direct link to Pros and Cons" translate="no">​</a></h3>
<p><strong>✅ Advantages:</strong></p>
<ul>
<li>Maximum flexibility for instance-specific roles</li>
<li>Reusable role definitions across different objects</li>
<li>Fine-grained control over role membership</li>
</ul>
<p><strong>❌ Disadvantages:</strong></p>
<ul>
<li>Most complex approach to implement</li>
<li>Requires careful planning of the role hierarchy</li>
<li>More tuples needed for setup and maintenance</li>
</ul>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="choosing-the-right-approach">Choosing the Right Approach<a href="#choosing-the-right-approach" class="hash-link" aria-label="Direct link to Choosing the Right Approach" title="Direct link to Choosing the Right Approach" translate="no">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="decision-tree">Decision Tree<a href="#decision-tree" class="hash-link" aria-label="Direct link to Decision Tree" title="Direct link to Decision Tree" translate="no">​</a></h3>
<ol>
<li>
<p><strong>Do you need user-defined roles?</strong></p>
<ul>
<li>No → Use <strong>Relations as Roles</strong></li>
<li>Yes → Continue to step 2</li>
</ul>
</li>
<li>
<p><strong>Do roles need different members per object instance?</strong></p>
<ul>
<li>No → Use <strong>Simple User-Defined Roles</strong></li>
<li>Yes → Use <strong>Role Assignments</strong></li>
</ul>
</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="performance-considerations">Performance Considerations<a href="#performance-considerations" class="hash-link" aria-label="Direct link to Performance Considerations" title="Direct link to Performance Considerations" translate="no">​</a></h3>
<ul>
<li><strong>Relations as Roles</strong>: Fastest evaluation</li>
<li>*<strong>Simple User-Defined Roles</strong>: Moderate performance impact</li>
<li><strong>Role Assignments</strong>: Highest performance impact</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="best-practices">Best Practices<a href="#best-practices" class="hash-link" aria-label="Direct link to Best Practices" title="Direct link to Best Practices" translate="no">​</a></h2>
<ol>
<li><strong>Start simple</strong>: Begin with relations as roles and evolve as needed</li>
<li><strong>Hybrid approach</strong>: Combine static relations for well-known roles with dynamic roles for custom ones</li>
<li><strong>Documentation</strong>: Clearly document your role model for your team</li>
<li><strong>Functional Testing</strong>: <a href="/pr-preview/pr-1126/docs/modeling/testing">Write tests</a> to verify your model behaves as expected</li>
<li><strong>Performance Testing</strong>: Test performance with realistic data volumes</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="related-sections">Related Sections<a href="#related-sections" class="hash-link" aria-label="Direct link to Related Sections" title="Direct link to Related Sections" translate="no">​</a></h2>
<div><div class="documentation-related-section-description_Un_N"><span>Check out these related resources for more information about adopting OpenFGA.</span></div><div class="column-layout-3_YXBy"><div class="documentation-card-box_SNqO undefined undefined"><div class="documentation-card-box-content_Z5TD"><span class="documentation-card-box-title_sKX3">Custom Roles Step by Step</span><p class="documentation-card-box-description_u7_j">Follow a detailed walkthrough of implementing custom roles.</p><div class="documentation-card-box-links_XUmL documentation-card-box-links-none_sQ2X"><ul><li><a class="documentation-card-box-link_yEiX" href="/pr-preview/pr-1126/docs/modeling/custom-roles">More</a></li></ul></div><div class="documentation-card-box-children_i280"></div></div></div><div class="documentation-card-box_SNqO undefined undefined"><div class="documentation-card-box-content_Z5TD"><span class="documentation-card-box-title_sKX3">Multi-tenant RBAC Example</span><p class="documentation-card-box-description_u7_j">See a complete multi-tenant role-based access control implementation.</p><div class="documentation-card-box-links_XUmL documentation-card-box-links-none_sQ2X"><ul><li><a href="https://github.com/openfga/sample-stores/blob/main/stores/multitenant-rbac" target="_blank" rel="noopener noreferrer" class="documentation-card-box-link_yEiX">More</a></li></ul></div><div class="documentation-card-box-children_i280"></div></div></div><div class="documentation-card-box_SNqO undefined undefined"><div class="documentation-card-box-content_Z5TD"><span class="documentation-card-box-title_sKX3">Role Assignments Example</span><p class="documentation-card-box-description_u7_j">Explore a full role assignments implementation.</p><div class="documentation-card-box-links_XUmL documentation-card-box-links-none_sQ2X"><ul><li><a href="https://github.com/openfga/sample-stores/tree/main/stores/role-assignments" target="_blank" rel="noopener noreferrer" class="documentation-card-box-link_yEiX">More</a></li></ul></div><div class="documentation-card-box-children_i280"></div></div></div></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/openfga/openfga.dev/edit/main/docs/content/best-practices/modeling-roles.mdx" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/pr-preview/pr-1126/docs/best-practices/modeling"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Modeling Best Practices</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/pr-preview/pr-1126/docs/best-practices/source-of-truth"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Source of Truth</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#when-to-use-each-approach" class="table-of-contents__link toc-highlight">When to Use Each Approach</a></li><li><a href="#approach-1-relations-as-roles" class="table-of-contents__link toc-highlight">Approach 1: Relations as Roles</a><ul><li><a href="#example-organization-admin-role" class="table-of-contents__link toc-highlight">Example: Organization Admin Role</a></li><li><a href="#adding-users-to-roles" class="table-of-contents__link toc-highlight">Adding Users to Roles</a></li><li><a href="#extending-with-additional-roles" class="table-of-contents__link toc-highlight">Extending with Additional Roles</a></li><li><a href="#pros-and-cons" class="table-of-contents__link toc-highlight">Pros and Cons</a></li></ul></li><li><a href="#approach-2-simple-user-defined-roles" class="table-of-contents__link toc-highlight">Approach 2: Simple User-Defined Roles</a><ul><li><a href="#example-custom-project-admin-role" class="table-of-contents__link toc-highlight">Example: Custom Project Admin Role</a></li><li><a href="#setting-up-custom-roles" class="table-of-contents__link toc-highlight">Setting Up Custom Roles</a></li><li><a href="#adding-new-permissions" class="table-of-contents__link toc-highlight">Adding New Permissions</a></li><li><a href="#pros-and-cons-1" class="table-of-contents__link toc-highlight">Pros and Cons</a></li></ul></li><li><a href="#approach-3-role-assignments" class="table-of-contents__link toc-highlight">Approach 3: Role Assignments</a><ul><li><a href="#example-project-specific-admin-roles" class="table-of-contents__link toc-highlight">Example: Project-Specific Admin Roles</a></li><li><a href="#step-1-define-the-role-and-its-permissions" class="table-of-contents__link toc-highlight">Step 1: Define the Role and its Permissions</a></li><li><a href="#step-2-assign-users-to-a-role-on-an-entity" class="table-of-contents__link toc-highlight">Step 2: Assign Users to a Role on an Entity</a></li><li><a href="#step-3-connect-to-your-objects" class="table-of-contents__link toc-highlight">Step 3: Connect to Your Objects</a></li><li><a href="#setting-up-role-assignments" class="table-of-contents__link toc-highlight">Setting Up Role Assignments</a></li><li><a href="#pros-and-cons-2" class="table-of-contents__link toc-highlight">Pros and Cons</a></li></ul></li><li><a href="#choosing-the-right-approach" class="table-of-contents__link toc-highlight">Choosing the Right Approach</a><ul><li><a href="#decision-tree" class="table-of-contents__link toc-highlight">Decision Tree</a></li><li><a href="#performance-considerations" class="table-of-contents__link toc-highlight">Performance Considerations</a></li></ul></li><li><a href="#best-practices" class="table-of-contents__link toc-highlight">Best Practices</a></li><li><a href="#related-sections" class="table-of-contents__link toc-highlight">Related Sections</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer"><div class="container container-fluid"><div class="footer__links text--center"><div class="footer__links"><a href="https://twitter.com/OpenFGA" target="_blank" rel="noopener noreferrer" class="footer__link-item header-social header-twitter-link" aria-label="OpenFGA on Twitter">Twitter</a><span class="footer__link-separator">·</span><a href="https://openfga.dev/community" target="_blank" rel="noopener noreferrer" class="footer__link-item header-social header-slack-link" aria-label="OpenFGA on Slack">CNCF Slack</a><span class="footer__link-separator">·</span><a href="https://github.com/openfga" target="_blank" rel="noopener noreferrer" class="footer__link-item header-social header-github-link" aria-label="OpenFGA on GitHub">GitHub</a><span class="footer__link-separator">·</span><a href="https://mastodon.social/@openfga" target="_blank" rel="me noopener noreferrer" class="footer__link-item header-social header-mastodon-link" aria-label="OpenFGA on Mastodon">Mastodon</a></div></div><div class="footer__bottom text--center"><div class="footer__copyright"><div><a href="https://www.linuxfoundation.org/trademark-usage"><img src="/img/cncf-icon-white.svg" alt="CNCF" style="vertical-align:middle; margin-right:8px;"></a> &copy; 2025 <a href="https://www.linuxfoundation.org/" target="_blank">The Linux Foundation</a>®. All rights reserved. <span class="display-on-desktop">For a list of trademarks of The Linux Foundation, see our <a href="https://www.linuxfoundation.org/trademark-usage" class="light-text" target="blank">Trademark Usage page</a>.</span></div></div></div></div></footer></div></div>
</body>
</html>